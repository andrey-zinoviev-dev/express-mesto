{"version":3,"sources":["images/Close-icon.png","images/Vector.svg","images/user-edit-sign.png","images/Vector-edit.png","images/Vector.png","images/delete_icon.png","images/like.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/DeleteCardPopup.js","components/AddCardPopup.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","like","deleteSign","onClick","onDeleteClick","link","onCardClick","name","type","onLikeClick","likeSign","Main","user","avatar","onEditAvatar","userEditSign","onEditProfile","profileEditSign","about","onAddPlace","addCardSign","cards","map","i","key","onCardLike","length","onCardDelete","Footer","PopupWithImage","closePopups","popupCloseSign","api","baseUrl","headers","_baseUrl","_headers","res","ok","json","Promise","reject","status","err","console","log","message","fetch","this","then","_handleResponse","catch","_handleErrorResponse","formData","method","body","JSON","stringify","cardId","Component","authorization","PopupWithForm","isOpen","title","formClass","action","noValidate","onSubmit","children","disabled","submitButtonState","submitButtonClass","dataLoading","submitButtonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","undefined","onClose","event","preventDefault","onUpdateUser","id","value","required","minLength","maxLength","pattern","autoComplete","onChange","e","target","EditAvatarPopup","linkRef","useRef","onUpdateAvatar","current","reset","ref","placeholder","DeleteCardPopup","onDeleteCard","deleteCard","AddCardPopup","setLink","nameError","setNameError","linkError","setLinkError","submitButtonIsInactive","validateForm","onAddCard","validity","valid","validationMessage","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","deletingCard","setDeletingCard","dataIsLoading","setDataIsLoading","closeAllPopups","getUser","data","setCards","getInitialCards","Provider","removeLike","newCards","oldCard","setLike","editProfile","updateAvatar","addCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.5b1af9c2.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE5SURBVHgB7dnhbcIwEIbhUydglI7QTcgmHaXdgBEYgVEY4eMQnGRFYJLYZ/ui75UifoBIHjkgnyLCGGOMMcYY6xaAg/RML+Bfjz9xTL//W4+rHkfp0RNpuWATpNUWO0O6YF8gi7BfUq+pFvaO1JezHn1/myJvV7V4ZTMruXk1i6uNHRKZXFwV7NBIqxQbAmltxYZCWmuxIZHWUmxopPUJuwuklcGedoO0Mtj9IK2F2NhI63m7dkXW3NS/DI8N+k/mI7n3YoT8v2ua6/Du2gpkXOwH5BFOI17TsHAzEBqLlTuekFhs3NaFwqJw7xoCi0ob9KGxqDyFDImF06g1FBbO8+QQWD3ZAQ3myQz2V1qlJ5s8kcl55tgLWj9Zm2HdRq0E2x6ZXMSEBvPk/XZF72ekjDHGGGOMsb7dAKeS3qWfNv6IAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/Vector.855a8c98.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB+SURBVHgB7dbBCYAwDAXQ4ASO4Ca6gSPoBo6gGzhSR8koMdIIoSBe8vGSD5/SSx6hlxIBIiKDttwnoWIISw1DsAYRCPaCPCkUkQ8kZqNEEkkkkUT+RAxa4YjDduQmhx/msNhNbCA32BaNTNC3sHTa2d177UKISP3ondqRgLkAC8rJEj0Pt60AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABASURBVHgB1cpBDQAgDEPRSZgEJOAMCUibBCSVLfRI2K40+enliTwGQD3zeoYWzqyC4vULRDgraHiN+I4ILbAk2wl8k3m1+6eCAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABcSURBVHgB7ZTBCQAhDATX4/q5swItyU5szY5iBEF/5mH8mIGFPLLzEBUQQESRBkHSeaCEiU18UPy2yy/Y+6b5545bFVx7SlBA7yg4UbDnObnPiVOwA/uETHyruAJ7lynkgfqZ+gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC7SURBVHgBtZONDYIwEEa/Mw7gCIzgBjCCGziCIzmCcQJxA0a4DaAT1Kuh5mxKQq/wkjZHezyO/gALeO8v0kb/T7eUf5xfajJzrbRTMnaTXE4TiYhJJl4Sd6ijD6Ix8+VSvhU1ElxRx5NCL7JzRVWTrNGAWXT3dh7BcYhW2GEtYtiZtMjBDmvRZr82wI7Toho4dBSfwj7CgJwhSitilMMx0CLLgnNOxKhgl4reKKePAelR2bgW63G/Wy98AJUii553R6PoAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/like.6c74d9b5.svg\";","import React from 'react';\r\n\r\nimport headerLogo from '../images/Vector.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n                <img className=\"header__logo\" src={headerLogo} alt=\"Логотип Место\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\n\r\nimport deleteSign from '../images/delete_icon.png';\r\n\r\nimport likeSign from '../images/like.svg';\r\n\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card (props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    const isLiked = props.card.likes.some((like) => {return like._id === currentUser._id});\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n    \r\n    function handleLikeClick() {\r\n        props.onLikeClick(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onDeleteClick(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"elements__element\">\r\n            <img className={isOwn ? (\"elements__element-delete-sign\") : (\"elements__element-delete-sign_deactivated\")} src={deleteSign} alt=\"удалить\" onClick={handleDeleteClick}/>\r\n            <img className=\"elements__element-photo\" alt=\"\" src={props.link} onClick={handleClick}/>\r\n            <div className=\"elements__element-rectangle\">\r\n                <p className=\"elements__element-text\">{props.name}</p>\r\n                <div className=\"elements__element-like-count\">\r\n                    <button type=\"button\" className=\"elements__element-like\" onClick= {handleLikeClick}><img className={isLiked ? (\"elements__element-like-sign_status_active\") : (\"elements__element-like-sign\")} src={likeSign} alt=\"лайк\" /></button>\r\n                    <span className=\"elements__element-like-number\">{props.likes}</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nimport userEditSign from '../images/user-edit-sign.png';\r\n\r\nimport profileEditSign from '../images/Vector-edit.png';\r\n\r\nimport addCardSign from '../images/Vector.png';\r\n\r\nimport Card from './Card.js';\r\n\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main (props) {\r\n\r\n    const user = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <section className=\"profile\">\r\n                <div className=\"profile__image-wrapper\">\r\n                    <img className=\"profile__avatar\" src={user ? (user.avatar) : (\"\")}/>\r\n                    <img className=\"profile__avatar-edit-sign\" onClick={props.onEditAvatar} alt=\"конпка редактирования профиля\" src={userEditSign}/>\r\n                    <div className=\"profile__avatar-overlay\"></div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__wrapper\">\r\n                        <h1 className=\"profile__heading\">{user ? (user.name) : (\"\")}</h1>\r\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}><img className=\"profile__edit-button-sign\" src={profileEditSign}  alt=\"изменить пользователя\" /></button>\r\n                    </div>\r\n                    <p className=\"profile__subtitle\">{user ? (user.about) : (\"\")}</p>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}><img className=\"profile__add-button-sign\" src={addCardSign} alt=\"Добавить картинку\"/></button>\r\n        </section>\r\n        <section className=\"elements\">\r\n                <ul className=\"elements__list\">\r\n                    {props.cards.map((card, i) => (\r\n                        <Card key={card._id} onLikeClick={props.onCardLike} name={card.name} link={card.link} likes={card.likes.length} onCardClick={props.onCardClick} card={card} onDeleteClick={props.onCardDelete} />\r\n                    ))}\r\n                </ul>\r\n        </section>\r\n      </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer () {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nimport popupCloseSign from '../images/Close-icon.png';\r\n\r\nfunction PopupWithImage(props) {\r\n    return (\r\n        <section className= {props.card ? (\"popup popup_picture popup_opened\") : (\"popup popup_picture\")}>\r\n            <div className=\"popup__container popup__container_type_image\">\r\n                <button type=\"button\" className=\"popup__close popup__close_type_open-image\" onClick={props.closePopups}><img className=\"popup__close-sign\" src={popupCloseSign} alt=\"закрыть окно\" /></button>\r\n                <img className=\"popup__image\" alt=\"\" src={props.card ? (props.card.link) : (\"\")}/>\r\n    {/* <p className=\"popup__image-text\"></p> */}{props.card !== null ? (<p className=\"popup__image-text\">{props.card.name}</p>) : (<p className=\"popup__image-text\"></p>)}\r\n            </div>\r\n            <div className=\"popup__overlay popup__overlay_type_image\"></div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithImage;","import React from 'react';\r\n\r\nclass Api extends React.Component {\r\n    constructor({baseUrl, headers}) {\r\n        super({baseUrl, headers});\r\n        this._baseUrl = baseUrl;\r\n        this._headers = headers;\r\n    }\r\n    _handleResponse(res) {\r\n        if(res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    _handleErrorResponse(err) {\r\n        console.log(err.message);\r\n        return Promise.reject(`Ошибка: ${err.message}`);\r\n    }\r\n    getUser() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleErrorResponse)\r\n    }\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleResponse)\r\n    }\r\n    editProfile(formData) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: formData.name,\r\n                about: formData.about,\r\n            })\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleErrorResponse)\r\n    }\r\n    addCard(formData) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                link: formData.link,\r\n                name: formData.name\r\n            })\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleErrorResponse)\r\n    }\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleErrorResponse)\r\n    }\r\n    setLike(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleErrorResponse)\r\n    }\r\n    removeLike(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleErrorResponse)\r\n    }\r\n   updateAvatar(formData) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n           method: 'PATCH',\r\n           headers: this._headers,\r\n           body: JSON.stringify({\r\n               avatar: formData.avatar\r\n           })\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleErrorResponse)\r\n   }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\r\n    headers: {\r\n        authorization: '12f43955-076f-4f9d-b681-082f556a73e2',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nexport default api;","import React from 'react';\r\n\r\nimport popupCloseSign from '../images/Close-icon.png';\r\n\r\nfunction PopupWithForm(props) {    \r\n    return (\r\n        <section className={props.isOpen ? (`popup ${props.name} popup_opened`) : (`popup ${props.name}`)}>\r\n        <div className=\"popup__container\">\r\n            <h4 className=\"popup__title\">{props.title}</h4>\r\n            <button type=\"button\" className=\"popup__close\" onClick={props.closePopups}><img className=\"popup__close-sign\" src={popupCloseSign} alt=\"закрыть окно\" /></button>\r\n            <form className={`popup__form ${props.formClass}`} action=\"/\" noValidate onSubmit={props.onSubmit}>\r\n                {props.children}\r\n                <button disabled={props.submitButtonState ? (true) : (false)} type=\"submit\" className={props.submitButtonState ? (`popup__edit-button ${props.submitButtonClass} popup__edit-button_inactive`) : (`popup__edit-button ${props.submitButtonClass}`)}>{props.dataLoading ? (\"Загрузка...\") : (props.submitButtonText)}</button>\r\n            </form>\r\n        </div>\r\n        <div className=\"popup__overlay\"></div>\r\n      </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nexport function EditProfilePopup(props) {\r\n\r\n    const [name, setName] = React.useState(\"\");\r\n    const [description, setDescription] = React.useState(\"\");\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n    function handleSubtitleChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    const user = React.useContext(CurrentUserContext);\r\n    \r\n    React.useEffect(() => {\r\n       if(user === undefined) {\r\n        return\r\n       } else {\r\n        setName(user.name);\r\n        setDescription(user.about);\r\n       }\r\n\r\n    }, [user])\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        })\r\n    }\r\n    \r\n\r\n    return (\r\n        <PopupWithForm name=\"popup\" title=\"Редактировать профиль\" formClass=\"popup__form_type_user-edit\" submitButtonClass=\"\" submitButtonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} closePopups={props.closePopups} onSubmit={handleSubmit} dataLoading={props.dataLoading}>\r\n            <>\r\n                <input id=\"username-input\" value={name} className=\"popup__input popup__input_order_first\" name=\"username\" type=\"text\" required minLength=\"2\" maxLength=\"40\" pattern=\"[A-Za-zА-Яа-я -]{2,40}\" autoComplete=\"off\" onChange={handleNameChange} />\r\n                <span id=\"username-input-error\" className=\"popup__input-error-message\"></span>\r\n                <input id=\"occupation-input\" value={description} className=\"popup__input popup__input_order_second\" name=\"occupation\" type=\"text\" required minLength=\"2\" maxLength=\"200\" pattern=\"[A-Za-zА-Яа-я -]{2,30}\" autoComplete=\"off\" onChange={handleSubtitleChange} />\r\n                <span id=\"occupation-input-error\" className=\"popup__input-error-message popup__input-error-message_order_second\"></span> \r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nexport function EditAvatarPopup(props) {\r\n    \r\n    const linkRef = React.useRef();\r\n\r\n    function handleAvatarUpdate(event) {\r\n        event.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: linkRef.current.value\r\n        })\r\n        event.target.reset();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"popup_avatar-edit\" title=\"Обновить аватар\" formClass=\"popup__form_type_change-avatar\" submitButtonClass=\"\" submitButtonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} closePopups={props.closePopups} onSubmit={handleAvatarUpdate} dataLoading={props.dataLoading}>\r\n          <>\r\n          <input ref={linkRef} type=\"url\" className=\"popup__input popup__input_type_avatar-link\" name=\"avatar-link\" id=\"avatar-link-input\" placeholder=\"Ссылка на картинку\" required autoComplete=\"off\" />\r\n          <span className=\"popup__input-error-message\" id=\"avatar-link-input-error\"></span>\r\n          </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nexport function DeleteCardPopup(props) {\r\n\r\n    function submitDeleteCard(event) {\r\n        event.preventDefault();\r\n        props.onDeleteCard(props.deleteCard);\r\n    }\r\n    \r\n    return (\r\n        <PopupWithForm onSubmit={submitDeleteCard} name=\"popup_delete-image\" title=\"Вы уверены?\" formClass=\"popup__form_type_delete-card\" submitButtonClass=\"\" submitButtonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} closePopups={props.closePopups} dataLoading={props.dataLoading} />\r\n    )\r\n}","import React from \"react\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport function AddCardPopup(props) {\r\n\r\n    const [name ,setName] = React.useState('');\r\n\r\n    const [link, setLink] = React.useState('');\r\n\r\n    const [nameError, setNameError] = React.useState(true);\r\n\r\n    const [linkError, setLinkError] = React.useState(true);\r\n\r\n    // const [submitButtonState, setSubmitButtonState] = React.useState(true);\r\n\r\n    let submitButtonIsInactive = true;\r\n\r\n    console.log(submitButtonIsInactive);\r\n\r\n    function handleNameChange(event) {\r\n        validateForm();\r\n        setName(event.target.value);\r\n        // validateForm();\r\n        if(!event.target.validity.valid) {\r\n            setNameError(event.target.validationMessage);\r\n        } else {\r\n            setNameError();\r\n        }\r\n       \r\n    }\r\n\r\n    function handleLinkChange(event) {\r\n        validateForm();\r\n        setLink(event.target.value);\r\n        // validateForm();\r\n        if(!event.target.validity.valid) {\r\n            setLinkError(event.target.validationMessage);\r\n        } else {\r\n            setLinkError();\r\n        }   \r\n        \r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        event.target.reset();\r\n        props.onAddCard({\r\n            name: name,\r\n            link: link,\r\n        });\r\n\r\n    }\r\n\r\n    function validateForm() {\r\n        if(!nameError && !linkError) {\r\n            //если раскоментировать setSubmitButtonState- будет ошибка циклов перерендера\r\n            // setSubmitButtonState(false);\r\n            submitButtonIsInactive =  false;\r\n            console.log(submitButtonIsInactive);\r\n        } else {\r\n            //если раскоментировать setSubmitButtonState- будет ошибка циклов перерендера\r\n            // setSubmitButtonState(true);\r\n            submitButtonIsInactive = true;\r\n            console.log(submitButtonIsInactive);\r\n        }\r\n    }\r\n\r\n    validateForm();\r\n    \r\n    return (\r\n        <PopupWithForm submitButtonState={submitButtonIsInactive} name='popup_addCard' title=\"Новое место\" formClass=\"popup__form_type_addCard-form\" submitButtonClass=\"popup__edit-button_action_addCard\" submitButtonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} closePopups={props.closePopups} onSubmit={handleSubmit} dataLoading={props.dataLoading}>\r\n            <>\r\n                <input id=\"place-name-input\" className=\"popup__input popup__input_order_first popup__input_place-name\" name=\"place-name\" type=\"text\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" autoComplete=\"off\" onChange={handleNameChange} />\r\n    <span id=\"place-name-input-error\" className=\"popup__input-error-message\">{nameError}</span>\r\n                <input id=\"palce-image-link-input\" className=\"popup__input popup__input_order_second popup__input_image-link\" name=\"palce-image-link\" placeholder=\"Ссылка на картинку\" required type=\"url\" autoComplete=\"off\" onChange={handleLinkChange} />\r\n    <span id=\"palce-image-link-input-error\" className=\"popup__input-error-message popup__input-error-message_order_second\">{linkError}</span>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n    \r\n}","import React from 'react';\n\nimport Header from './Header.js';\n\nimport Main from './Main.js';\n\nimport Footer from './Footer.js';\n\nimport PopupWithImage from './PopupWithImage.js';\n\nimport api from '../utils/api.js';\n\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nimport {EditProfilePopup} from \"./EditProfilePopup\";\n\nimport {EditAvatarPopup} from \"./EditAvatarPopup\";\n\nimport {DeleteCardPopup} from \"./DeleteCardPopup\";\n\nimport {AddCardPopup} from \"./AddCardPopup\";\n\nfunction App() {\n\n  const[isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = React.useState(false);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState(null);\n\n  const [currentUser, setCurrentUser] = React.useState();\n\n  const [deletingCard, setDeletingCard] = React.useState();\n\n  const [dataIsLoading, setDataIsLoading] = React.useState(false);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddCardPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsDeleteCardPopupOpen(false);\n  }\n\n  function handleCardClick(data) {\n    setSelectedCard(data);\n  }\n\n  function getDataFromServer() {\n    api.getUser()\n    .then((data) => {\n      setCurrentUser(data);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  React.useEffect(() => {\n    getDataFromServer();\n  },[])\n\n  function handleUpdateUser(data) {\n    setDataIsLoading(true);\n    api.editProfile(data)\n    .then((data) => {\n      setDataIsLoading(false);\n      setCurrentUser(data);\n      closeAllPopups();\n    })\n    \n  }\n\n  function handleAvatarUpdate(link) {\n    setDataIsLoading(true);\n    api.updateAvatar(link)\n    .then((data) => {\n      setDataIsLoading(false);\n      setCurrentUser(data);\n      closeAllPopups();\n    })\n  }\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n      function getCardsFromServer () {\n          api.getInitialCards()\n          .then((data) => {\n              setCards(data);\n          })\n          .catch((err) => {\n              console.log(err);\n          });\n      }\n\n      getCardsFromServer();\n  }, [])\n\n  function handleCardLike(card) {\n      let isLiked = card.likes.some((like) => {return like._id === currentUser._id})\n      if(!isLiked) {\n          api.setLike(card._id)\n          .then((data) => {\n          const newCards = cards.map((oldCard) => {\n              return oldCard._id === data._id ? (data) : (oldCard)\n          })\n          setCards(newCards);\n          isLiked = !isLiked;\n      })} else {\n          api.removeLike(card._id)\n          .then((data) => {\n              const newCards = cards.map((oldCard) => {\n                  return oldCard._id === data._id ? (data) : (oldCard)\n              })\n              setCards(newCards);\n              isLiked = !isLiked;\n          })\n      }\n  }\n\n  function handleDeleteCardClick(card) {\n      setDeletingCard(card._id);\n      setIsDeleteCardPopupOpen(true);\n  }\n\n  function handleCardDelete(id) {\n    setDataIsLoading(true);\n    api.deleteCard(id)\n    .then((data) => {\n      setDataIsLoading(false);\n      const newCards = cards.filter((card) => {\n        return card._id!==id;\n      })\n      setCards(newCards);\n      closeAllPopups();\n    })\n  }\n\n  function handleAddCard(card) {\n    setDataIsLoading(true);\n    api.addCard(card)\n    .then((data) => {\n      setDataIsLoading(false);\n      setCards([...cards, data]);\n      closeAllPopups();\n    })\n  }\n\n  return (\n    <div className=\"root\">\n      <div className=\"container\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleDeleteCardClick} />\n          <Footer />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} closePopups={closeAllPopups} onUpdateUser={handleUpdateUser} dataLoading={dataIsLoading} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} closePopups={closeAllPopups} onUpdateAvatar={handleAvatarUpdate} dataLoading={dataIsLoading} />\n          <AddCardPopup isOpen={isAddCardPopupOpen} closePopups={closeAllPopups} onAddCard={handleAddCard} dataLoading={dataIsLoading} />\n          <DeleteCardPopup deleteCard={deletingCard} isOpen={isDeleteCardPopupOpen} closePopups={closeAllPopups} onDeleteCard={handleCardDelete} dataLoading={dataIsLoading} />\n          <PopupWithImage card={selectedCard} closePopups={closeAllPopups}/>\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}